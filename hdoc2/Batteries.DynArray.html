<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="previous" href="Batteries.Dllist.html">
<link rel="next" href="Batteries.Enum.html">
<link rel="Up" href="Batteries.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of class methods" rel=Appendix href="index_methods.html">
<link title="Index of classes" rel=Appendix href="index_classes.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="BatArray" rel="Chapter" href="BatArray.html">
<link title="BatAvlTree" rel="Chapter" href="BatAvlTree.html">
<link title="BatBase64" rel="Chapter" href="BatBase64.html">
<link title="BatBig_int" rel="Chapter" href="BatBig_int.html">
<link title="BatBigarray" rel="Chapter" href="BatBigarray.html">
<link title="BatBitSet" rel="Chapter" href="BatBitSet.html">
<link title="BatBool" rel="Chapter" href="BatBool.html">
<link title="BatBounded" rel="Chapter" href="BatBounded.html">
<link title="BatBuffer" rel="Chapter" href="BatBuffer.html">
<link title="BatBytes" rel="Chapter" href="BatBytes.html">
<link title="BatBytesCompat" rel="Chapter" href="BatBytesCompat.html">
<link title="BatCache" rel="Chapter" href="BatCache.html">
<link title="BatChar" rel="Chapter" href="BatChar.html">
<link title="BatCharParser" rel="Chapter" href="BatCharParser.html">
<link title="BatComplex" rel="Chapter" href="BatComplex.html">
<link title="BatConcreteQueue" rel="Chapter" href="BatConcreteQueue.html">
<link title="BatConcurrent" rel="Chapter" href="BatConcurrent.html">
<link title="BatDeque" rel="Chapter" href="BatDeque.html">
<link title="BatDigest" rel="Chapter" href="BatDigest.html">
<link title="BatDllist" rel="Chapter" href="BatDllist.html">
<link title="BatDynArray" rel="Chapter" href="BatDynArray.html">
<link title="BatEither" rel="Chapter" href="BatEither.html">
<link title="BatEnum" rel="Chapter" href="BatEnum.html">
<link title="BatFile" rel="Chapter" href="BatFile.html">
<link title="BatFilename" rel="Chapter" href="BatFilename.html">
<link title="BatFingerTree" rel="Chapter" href="BatFingerTree.html">
<link title="BatFloat" rel="Chapter" href="BatFloat.html">
<link title="BatFormat" rel="Chapter" href="BatFormat.html">
<link title="BatGc" rel="Chapter" href="BatGc.html">
<link title="BatGenlex" rel="Chapter" href="BatGenlex.html">
<link title="BatGlobal" rel="Chapter" href="BatGlobal.html">
<link title="BatHashcons" rel="Chapter" href="BatHashcons.html">
<link title="BatHashtbl" rel="Chapter" href="BatHashtbl.html">
<link title="BatHeap" rel="Chapter" href="BatHeap.html">
<link title="BatIMap" rel="Chapter" href="BatIMap.html">
<link title="BatIO" rel="Chapter" href="BatIO.html">
<link title="BatISet" rel="Chapter" href="BatISet.html">
<link title="BatInnerIO" rel="Chapter" href="BatInnerIO.html">
<link title="BatInnerPervasives" rel="Chapter" href="BatInnerPervasives.html">
<link title="BatInnerShuffle" rel="Chapter" href="BatInnerShuffle.html">
<link title="BatInnerWeaktbl" rel="Chapter" href="BatInnerWeaktbl.html">
<link title="BatInt" rel="Chapter" href="BatInt.html">
<link title="BatInt32" rel="Chapter" href="BatInt32.html">
<link title="BatInt64" rel="Chapter" href="BatInt64.html">
<link title="BatInterfaces" rel="Chapter" href="BatInterfaces.html">
<link title="BatLazyList" rel="Chapter" href="BatLazyList.html">
<link title="BatLexing" rel="Chapter" href="BatLexing.html">
<link title="BatList" rel="Chapter" href="BatList.html">
<link title="BatLog" rel="Chapter" href="BatLog.html">
<link title="BatLogger" rel="Chapter" href="BatLogger.html">
<link title="BatMap" rel="Chapter" href="BatMap.html">
<link title="BatMarshal" rel="Chapter" href="BatMarshal.html">
<link title="BatMultiMap" rel="Chapter" href="BatMultiMap.html">
<link title="BatMultiPMap" rel="Chapter" href="BatMultiPMap.html">
<link title="BatMutex" rel="Chapter" href="BatMutex.html">
<link title="BatNativeint" rel="Chapter" href="BatNativeint.html">
<link title="BatNum" rel="Chapter" href="BatNum.html">
<link title="BatNumber" rel="Chapter" href="BatNumber.html">
<link title="BatOpaqueInnerSys" rel="Chapter" href="BatOpaqueInnerSys.html">
<link title="BatOptParse" rel="Chapter" href="BatOptParse.html">
<link title="BatOption" rel="Chapter" href="BatOption.html">
<link title="BatOrd" rel="Chapter" href="BatOrd.html">
<link title="BatParserCo" rel="Chapter" href="BatParserCo.html">
<link title="BatPathGen" rel="Chapter" href="BatPathGen.html">
<link title="BatPervasives" rel="Chapter" href="BatPervasives.html">
<link title="BatPrintexc" rel="Chapter" href="BatPrintexc.html">
<link title="BatPrintf" rel="Chapter" href="BatPrintf.html">
<link title="BatQueue" rel="Chapter" href="BatQueue.html">
<link title="BatRMutex" rel="Chapter" href="BatRMutex.html">
<link title="BatRandom" rel="Chapter" href="BatRandom.html">
<link title="BatRef" rel="Chapter" href="BatRef.html">
<link title="BatRefList" rel="Chapter" href="BatRefList.html">
<link title="BatResult" rel="Chapter" href="BatResult.html">
<link title="BatReturn" rel="Chapter" href="BatReturn.html">
<link title="BatScanf" rel="Chapter" href="BatScanf.html">
<link title="BatSeq" rel="Chapter" href="BatSeq.html">
<link title="BatSet" rel="Chapter" href="BatSet.html">
<link title="BatSplay" rel="Chapter" href="BatSplay.html">
<link title="BatStack" rel="Chapter" href="BatStack.html">
<link title="BatStream" rel="Chapter" href="BatStream.html">
<link title="BatString" rel="Chapter" href="BatString.html">
<link title="BatSubstring" rel="Chapter" href="BatSubstring.html">
<link title="BatSys" rel="Chapter" href="BatSys.html">
<link title="BatText" rel="Chapter" href="BatText.html">
<link title="BatTuple" rel="Chapter" href="BatTuple.html">
<link title="BatUChar" rel="Chapter" href="BatUChar.html">
<link title="BatUTF8" rel="Chapter" href="BatUTF8.html">
<link title="BatUnit" rel="Chapter" href="BatUnit.html">
<link title="BatUnix" rel="Chapter" href="BatUnix.html">
<link title="BatUref" rel="Chapter" href="BatUref.html">
<link title="BatVect" rel="Chapter" href="BatVect.html">
<link title="Batteries" rel="Chapter" href="Batteries.html">
<link title="BatteriesConfig" rel="Chapter" href="BatteriesConfig.html">
<link title="BatteriesExceptionless" rel="Chapter" href="BatteriesExceptionless.html">
<link title="BatteriesPrint" rel="Chapter" href="BatteriesPrint.html">
<link title="BatteriesThread" rel="Chapter" href="BatteriesThread.html">
<link title="Extlib" rel="Chapter" href="Extlib.html"><link title="Array creation" rel="Section" href="#6_Arraycreation">
<link title="Array manipulation functions" rel="Section" href="#6_Arraymanipulationfunctions">
<link title="Array copy and conversion" rel="Section" href="#6_Arraycopyandconversion">
<link title="Array functional support" rel="Section" href="#6_Arrayfunctionalsupport">
<link title="Operations on two arrays" rel="Section" href="#6_Operationsontwoarrays">
<link title="Array resizers" rel="Section" href="#6_Arrayresizers">
<link title="Unsafe operations" rel="Section" href="#6_Unsafeoperations">
<link title="Boilerplate code" rel="Section" href="#6_Boilerplatecode">
<link title="Printing" rel="Subsection" href="#7_Printing">
<title>Batteries user guide : Batteries.DynArray</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Batteries.Dllist.html" title="Batteries.Dllist">Previous</a>
&nbsp;<a class="up" href="Batteries.html" title="Batteries">Up</a>
&nbsp;<a class="post" href="Batteries.Enum.html" title="Batteries.Enum">Next</a>
</div>
<h1>Module <a href="type_Batteries.DynArray.html">Batteries.DynArray</a></h1>

<pre><span id="MODULEDynArray"><span class="keyword">module</span> DynArray</span>: <code class="type"><a href="BatDynArray.html">BatDynArray</a></code></pre><hr width="100%">

<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type">'a</code> t</span> </pre>


<pre><span class="keyword">include</span> <a href="BatEnum.Enumerable.html">BatEnum.Enumerable</a></pre>

<pre><span class="keyword">include</span> <a href="BatInterfaces.Mappable.html">BatInterfaces.Mappable</a></pre>

<pre><span id="EXCEPTIONInvalid_arg"><span class="keyword">exception</span> Invalid_arg</span> <span class="keyword">of</span> <code class="type">int * string * string</code></pre>
<div class="info ">
<div class="info-desc">
<p>When an operation on an array fails, <code class="code"><span class="constructor">Invalid_arg</span></code> is raised. The
    integer is the value that made the operation fail, the first string
    contains the function name that has been called and the second string
    contains the parameter name that made the operation fail.</p>
</div>
</div>
<h7 id="6_Arraycreation">Array creation</h7>
<pre><span id="VALcreate"><span class="keyword">val</span> create</span> : <code class="type">unit -> 'a <a href="BatDynArray.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">create()</code> returns a new empty dynamic array.</p>
</div>
</div>

<pre><span id="VALmake"><span class="keyword">val</span> make</span> : <code class="type">int -> 'a <a href="BatDynArray.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">make&nbsp;count</code> returns an array with some memory already allocated so
    up to <code class="code">count</code> elements can be stored into it without resizing.</p>
</div>
<ul class="info-attributes">
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> if make is called with a negative argument.</li>
</ul>
</div>

<pre><span id="VALinit"><span class="keyword">val</span> init</span> : <code class="type">int -> (int -> 'a) -> 'a <a href="BatDynArray.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">init&nbsp;n&nbsp;f</code> returns an array of <code class="code">n</code> elements filled with values
    returned by <code class="code">f&nbsp;0&nbsp;,&nbsp;f&nbsp;1,&nbsp;...&nbsp;f&nbsp;(n-1)</code>.</p>
</div>
<ul class="info-attributes">
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> if init is called with a negative argument.</li>
</ul>
</div>

<pre><span id="VALsingleton"><span class="keyword">val</span> singleton</span> : <code class="type">'a -> 'a <a href="BatDynArray.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Create an array consisting of exactly one element.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
</ul>
</div>
<h7 id="6_Arraymanipulationfunctions">Array manipulation functions</h7>
<pre><span id="VALget"><span class="keyword">val</span> get</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> int -> 'a</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">get&nbsp;darr&nbsp;idx</code> gets the element in <code class="code">darr</code> at index <code class="code">idx</code>. If <code class="code">darr</code> has
    <code class="code">len</code> elements in it, then the valid indexes range from <code class="code">0</code> to <code class="code">len-1</code>.</p>
</div>
<ul class="info-attributes">
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> if called with an invalid index.</li>
</ul>
</div>

<pre><span id="VALset"><span class="keyword">val</span> set</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> int -> 'a -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">set&nbsp;darr&nbsp;idx&nbsp;v</code> sets the element of <code class="code">darr</code> at index <code class="code">idx</code> to value
    <code class="code">v</code>.  The previous value is overwritten.</p>
</div>
<ul class="info-attributes">
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> if called with an invalid index.</li>
</ul>
</div>

<pre><span id="VALupd"><span class="keyword">val</span> upd</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> int -> ('a -> 'a) -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">upd&nbsp;darr&nbsp;idx&nbsp;f</code> sets the element of <code class="code">darr</code> at index <code class="code">idx</code> to value
    <code class="code">f&nbsp;(get&nbsp;darr&nbsp;idx)</code>).  The previous value is overwritten.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> if called with an invalid index.</li>
</ul>
</div>

<pre><span id="VALlength"><span class="keyword">val</span> length</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> int</code></pre><div class="info ">
<div class="info-desc">
<p>Return the number of elements in the array.</p>
</div>
</div>

<pre><span id="VALempty"><span class="keyword">val</span> empty</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p>Return true if the number of elements in the array is 0.</p>
</div>
</div>

<pre><span id="VALfirst"><span class="keyword">val</span> first</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> 'a</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">first&nbsp;darr</code> returns the first element of <code class="code">darr</code>.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> if length of the array is 0.</li>
</ul>
</div>

<pre><span id="VALlast"><span class="keyword">val</span> last</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> 'a</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">last&nbsp;darr</code> returns the last element of <code class="code">darr</code>.</p>
</div>
<ul class="info-attributes">
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> if length of the array is 0.</li>
</ul>
</div>

<pre><span id="VALleft"><span class="keyword">val</span> left</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> int -> 'a <a href="BatDynArray.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">left&nbsp;r&nbsp;len</code> returns the array containing the <code class="code">len</code> first characters of <code class="code">r</code>.
    If <code class="code">r</code> contains less than <code class="code">len</code> characters, it returns <code class="code">r</code>.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> if called with an invalid index.</li>
</ul>
</div>

<pre><span id="VALright"><span class="keyword">val</span> right</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> int -> 'a <a href="BatDynArray.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">right&nbsp;r&nbsp;len</code> returns the array containing the <code class="code">len</code> last characters of <code class="code">r</code>.
    If <code class="code">r</code> contains less than <code class="code">len</code> characters, it returns <code class="code">r</code>.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> if called with an invalid index.</li>
</ul>
</div>

<pre><span id="VALhead"><span class="keyword">val</span> head</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> int -> 'a <a href="BatDynArray.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Alias for <a href="BatDynArray.html#VALleft"><code class="code"><span class="constructor">BatDynArray</span>.left</code></a></p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
</ul>
</div>

<pre><span id="VALtail"><span class="keyword">val</span> tail</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> int -> 'a <a href="BatDynArray.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">tail&nbsp;r&nbsp;pos</code> returns the array containing all but the <code class="code">pos</code> first characters of <code class="code">r</code>.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> if called with an invalid index.</li>
</ul>
</div>

<pre><span id="VALinsert"><span class="keyword">val</span> insert</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> int -> 'a -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">insert&nbsp;darr&nbsp;idx&nbsp;v</code> inserts <code class="code">v</code> into <code class="code">darr</code> at index <code class="code">idx</code>.  All elements
    of <code class="code">darr</code> with an index greater than or equal to <code class="code">idx</code> have their
    index incremented (are moved up one place) to make room for the new
    element.</p>
</div>
<ul class="info-attributes">
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> if called with an invalid index.</li>
</ul>
</div>

<pre><span id="VALadd"><span class="keyword">val</span> add</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> 'a -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">add&nbsp;darr&nbsp;v</code> appends <code class="code">v</code> onto the end of <code class="code">darr</code>.  <code class="code">v</code> becomes the new
    last element of <code class="code">darr</code>.</p>
</div>
</div>

<pre><span id="VALappend"><span class="keyword">val</span> append</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">append&nbsp;src&nbsp;dst</code> adds all elements of <code class="code">src</code> to the end of <code class="code">dst</code>.</p>
</div>
</div>

<pre><span id="VALdelete"><span class="keyword">val</span> delete</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> int -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">delete&nbsp;darr&nbsp;idx</code> deletes the element of <code class="code">darr</code> at <code class="code">idx</code>.  All elements
    with an index greater than <code class="code">idx</code> have their index decremented (are
    moved down one place) to fill in the hole.</p>
</div>
<ul class="info-attributes">
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> if called with an invalid index.</li>
</ul>
</div>

<pre><span id="VALdelete_last"><span class="keyword">val</span> delete_last</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">delete_last&nbsp;darr</code> deletes the last element of <code class="code">darr</code>. This is equivalent
    of doing <code class="code">delete&nbsp;darr&nbsp;((length&nbsp;darr)&nbsp;-&nbsp;1)</code>.</p>
</div>
<ul class="info-attributes">
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> if length of the array is 0.</li>
</ul>
</div>

<pre><span id="VALdelete_range"><span class="keyword">val</span> delete_range</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> int -> int -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">delete_range&nbsp;darr&nbsp;idx&nbsp;len</code> deletes <code class="code">len</code> elements starting at index <code class="code">idx</code>.
    All elements with an index greater than <code class="code">idx+len</code> are moved to fill
    in the hole.</p>
</div>
<ul class="info-attributes">
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> if called with an invalid length or index.</li>
</ul>
</div>

<pre><span id="VALclear"><span class="keyword">val</span> clear</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p>remove all elements from the array and resize it to 0.</p>
</div>
</div>

<pre><span id="VALblit"><span class="keyword">val</span> blit</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> int -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> int -> int -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">blit&nbsp;src&nbsp;srcidx&nbsp;dst&nbsp;dstidx&nbsp;len</code> copies <code class="code">len</code> elements from <code class="code">src</code>
    starting with index <code class="code">srcidx</code> to <code class="code">dst</code> starting at <code class="code">dstidx</code>.</p>
</div>
<ul class="info-attributes">
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> if called with an invalid length or indices.</li>
</ul>
</div>

<pre><span id="VALcompact"><span class="keyword">val</span> compact</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">compact&nbsp;darr</code> ensures that the space allocated by the array is minimal.</p>
</div>
</div>
<h7 id="6_Arraycopyandconversion">Array copy and conversion</h7>
<pre><span id="VALenum"><span class="keyword">val</span> enum</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> 'a <a href="BatEnum.html#TYPEt">BatEnum.t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">enum&nbsp;darr</code> returns the enumeration of <code class="code">darr</code> elements.</p>
</div>
</div>

<pre><span id="VALof_enum"><span class="keyword">val</span> of_enum</span> : <code class="type">'a <a href="BatEnum.html#TYPEt">BatEnum.t</a> -> 'a <a href="BatDynArray.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">of_enum&nbsp;e</code> returns an array that holds, in order, the elements of <code class="code">e</code>.</p>
</div>
</div>

<pre><span id="VALrange"><span class="keyword">val</span> range</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> int <a href="BatEnum.html#TYPEt">BatEnum.t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">range&nbsp;a</code> returns an enumeration of all valid indices of the given
    array, that is, <code class="code">range&nbsp;a&nbsp;=&nbsp;0&nbsp;--^&nbsp;((length&nbsp;a)&nbsp;-1&nbsp;)</code></p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
</ul>
</div>

<pre><span id="VALto_list"><span class="keyword">val</span> to_list</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> 'a list</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">to_list&nbsp;darr</code> returns the elements of <code class="code">darr</code> in order as a list.</p>
</div>
</div>

<pre><span id="VALof_list"><span class="keyword">val</span> of_list</span> : <code class="type">'a list -> 'a <a href="BatDynArray.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">of_list&nbsp;lst</code> returns a dynamic array with the elements of <code class="code">lst</code> in
    it in order.</p>
</div>
</div>

<pre><span id="VALto_array"><span class="keyword">val</span> to_array</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> 'a array</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">to_array&nbsp;darr</code> returns the elements of <code class="code">darr</code> in order as an array.</p>
</div>
</div>

<pre><span id="VALof_array"><span class="keyword">val</span> of_array</span> : <code class="type">'a array -> 'a <a href="BatDynArray.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">of_array&nbsp;arr</code> returns an array with the elements of <code class="code">arr</code> in it
    in order.</p>
</div>
</div>

<pre><span id="VALcopy"><span class="keyword">val</span> copy</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> 'a <a href="BatDynArray.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">copy&nbsp;a</code> returns a fresh copy of <code class="code">a</code>, such that no modification of
    <code class="code">a</code> affects the copy, or vice versa (all new memory is allocated for
    the copy).</p>
</div>
</div>

<pre><span id="VALsub"><span class="keyword">val</span> sub</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> int -> int -> 'a <a href="BatDynArray.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">sub&nbsp;a&nbsp;start&nbsp;len</code> returns an array holding the subset of <code class="code">len</code>
    elements from <code class="code">a</code> starting with the element at index <code class="code">idx</code>.</p>
</div>
<ul class="info-attributes">
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> if <code class="code">start</code> and <code class="code">len</code> do not
    designate a valid subarray of <code class="code">a</code>; that is, if
    <code class="code">start&nbsp;&lt;&nbsp;0</code>, or <code class="code">len&nbsp;&lt;&nbsp;0</code>, or <code class="code">start&nbsp;+&nbsp;len&nbsp;&gt;&nbsp;<span class="constructor">Array</span>.length&nbsp;a</code>.</li>
</ul>
</div>

<pre><span id="VALfill"><span class="keyword">val</span> fill</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> int -> int -> 'a -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">fill&nbsp;a&nbsp;start&nbsp;len&nbsp;x</code> modifies the array <code class="code">a</code> in place,
    storing <code class="code">x</code> in elements number <code class="code">start</code> to <code class="code">start&nbsp;+&nbsp;len&nbsp;-&nbsp;1</code>.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> if <code class="code">start</code> and <code class="code">len</code> do not
    designate a valid subarray of <code class="code">a</code>.</li>
</ul>
</div>

<pre><span id="VALsplit"><span class="keyword">val</span> split</span> : <code class="type">('a * 'b) <a href="BatDynArray.html#TYPEt">t</a> -> 'a <a href="BatDynArray.html#TYPEt">t</a> * 'b <a href="BatDynArray.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">split&nbsp;a</code> converts the array of pairs <code class="code">a</code> into a pair of arrays.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
</ul>
</div>

<pre><span id="VALcombine"><span class="keyword">val</span> combine</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> 'b <a href="BatDynArray.html#TYPEt">t</a> -> ('a * 'b) <a href="BatDynArray.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">combine&nbsp;a&nbsp;b</code> converts arrays <code class="code">[a0,...aN]&nbsp;[b0,...,bN]</code> into 
    an array of pairs <code class="code">[(a0,b0),...,(aN,bN)]</code>.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> if the two arrays have different lengths.</li>
</ul>
</div>
<h7 id="6_Arrayfunctionalsupport">Array functional support</h7>
<pre><span id="VALiter"><span class="keyword">val</span> iter</span> : <code class="type">('a -> unit) -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">iter&nbsp;f&nbsp;darr</code> calls the function <code class="code">f</code> on every element of <code class="code">darr</code>.  It
    is equivalent to <code class="code"><span class="keyword">for</span>&nbsp;i&nbsp;=&nbsp;0&nbsp;<span class="keyword">to</span>&nbsp;length&nbsp;darr&nbsp;-&nbsp;1&nbsp;<span class="keyword">do</span>&nbsp;f&nbsp;(get&nbsp;darr&nbsp;i)&nbsp;<span class="keyword">done</span>;</code></p>
</div>
</div>

<pre><span id="VALiteri"><span class="keyword">val</span> iteri</span> : <code class="type">(int -> 'a -> unit) -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">iteri&nbsp;f&nbsp;darr</code> calls the function <code class="code">f</code> on every element of <code class="code">darr</code>.  It
    is equivalent to <code class="code"><span class="keyword">for</span>&nbsp;i&nbsp;=&nbsp;0&nbsp;<span class="keyword">to</span>&nbsp;length&nbsp;darr&nbsp;-&nbsp;1&nbsp;<span class="keyword">do</span>&nbsp;f&nbsp;i&nbsp;(get&nbsp;darr&nbsp;i)&nbsp;<span class="keyword">done</span>;</code></p>
</div>
</div>

<pre><span id="VALmap"><span class="keyword">val</span> map</span> : <code class="type">('a -> 'b) -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> 'b <a href="BatDynArray.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">map&nbsp;f&nbsp;darr</code> applies the function <code class="code">f</code> to every element of <code class="code">darr</code>
    and creates a dynamic array from the results - similar to <code class="code"><span class="constructor">List</span>.map</code> or
    <code class="code"><span class="constructor">Array</span>.map</code>.</p>
</div>
</div>

<pre><span id="VALmapi"><span class="keyword">val</span> mapi</span> : <code class="type">(int -> 'a -> 'b) -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> 'b <a href="BatDynArray.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">mapi&nbsp;f&nbsp;darr</code> applies the function <code class="code">f</code> to every element of <code class="code">darr</code>
    and creates a dynamic array from the results - similar to <code class="code"><span class="constructor">List</span>.mapi</code> or
    <code class="code"><span class="constructor">Array</span>.mapi</code>.</p>
</div>
</div>

<pre><span id="VALmodify"><span class="keyword">val</span> modify</span> : <code class="type">('a -> 'a) -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">modify&nbsp;f&nbsp;a</code> replaces every element <code class="code">x</code> of <code class="code">a</code> with <code class="code">f&nbsp;x</code>.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
</ul>
</div>

<pre><span id="VALmodifyi"><span class="keyword">val</span> modifyi</span> : <code class="type">(int -> 'a -> 'a) -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p>Same as <a href="BatDynArray.html#VALmodify"><code class="code"><span class="constructor">BatDynArray</span>.modify</code></a>, but the function is applied to the index of
    the element as the first argument, and the element itself as
    the second argument.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
</ul>
</div>

<pre><span id="VALfold_left"><span class="keyword">val</span> fold_left</span> : <code class="type">('a -> 'b -> 'a) -> 'a -> 'b <a href="BatDynArray.html#TYPEt">t</a> -> 'a</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">fold_left&nbsp;f&nbsp;x&nbsp;darr</code> computes <code class="code">f&nbsp;(&nbsp;...&nbsp;(&nbsp;f&nbsp;(&nbsp;f&nbsp;a0&nbsp;x)&nbsp;a1)&nbsp;)&nbsp;...&nbsp;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;aN</code>, where <code class="code">a0,a1..aN</code> are the indexed elements of <code class="code">darr</code>.</p>
</div>
</div>

<pre><span id="VALfold_right"><span class="keyword">val</span> fold_right</span> : <code class="type">('a -> 'b -> 'b) -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> 'b -> 'b</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">fold_right&nbsp;f&nbsp;darr&nbsp;x</code> computes <code class="code">&nbsp;f&nbsp;a0&nbsp;(f&nbsp;a1&nbsp;(&nbsp;...&nbsp;(&nbsp;f&nbsp;aN&nbsp;x&nbsp;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;)&nbsp;)&nbsp;</code>, where <code class="code">a0,a1..aN</code> are the indexed elements of
    <code class="code">darr</code>.</p>
</div>
</div>

<pre><span id="VALfold_lefti"><span class="keyword">val</span> fold_lefti</span> : <code class="type">('a -> int -> 'b -> 'a) -> 'a -> 'b <a href="BatDynArray.html#TYPEt">t</a> -> 'a</code></pre><div class="info ">
<div class="info-desc">
<p>As <code class="code">fold_left</code>, but with the index of the element as additional argument.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
</ul>
</div>

<pre><span id="VALfold_righti"><span class="keyword">val</span> fold_righti</span> : <code class="type">(int -> 'b -> 'a -> 'a) -> 'b <a href="BatDynArray.html#TYPEt">t</a> -> 'a -> 'a</code></pre><div class="info ">
<div class="info-desc">
<p>As <code class="code">fold_right</code>, but with the index of the element as additional argument.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
</ul>
</div>

<pre><span id="VALreduce"><span class="keyword">val</span> reduce</span> : <code class="type">('a -> 'a -> 'a) -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> 'a</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">reduce&nbsp;f&nbsp;a</code> is <code class="code">fold_left&nbsp;f&nbsp;a0&nbsp;[a1,&nbsp;...&nbsp;aN]</code>.  This
    is useful for merging a group of things that have no
    reasonable default value to return if the group is empty.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> on empty arrays.</li>
</ul>
</div>

<pre><span id="VALkeep"><span class="keyword">val</span> keep</span> : <code class="type">('a -> bool) -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">keep&nbsp;p&nbsp;darr</code> removes in place all the element <code class="code">x</code> of <code class="code">darr</code>
    such that <code class="code">p&nbsp;x&nbsp;=&nbsp;<span class="keyword">false</span></code></p>

<p><b>Note</b> In previous versions, this function used to be called
    <a href="BatDynArray.html#VALfilter"><code class="code"><span class="constructor">BatDynArray</span>.filter</code></a>. As this caused incompatibilities with comprehension
    of dynamic arrays, the function name has been changed.</p>
</div>
</div>

<pre><span id="VALfilter"><span class="keyword">val</span> filter</span> : <code class="type">('a -> bool) -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> 'a <a href="BatDynArray.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">filter&nbsp;p&nbsp;a</code> returns all the elements of the array <code class="code">a</code>
    that satisfy the predicate <code class="code">p</code>.  The order of the elements
    in the input array is preserved.</p>

<p><b>Note</b> This function replaces another function called <code class="code">filter</code>,
    available in previous versions of the library. As the old function
    was incompatible with comprehension of dynamic arrays, its name
    was changed to <a href="BatDynArray.html#VALkeep"><code class="code"><span class="constructor">BatDynArray</span>.keep</code></a>.</p>
</div>
</div>

<pre><span id="VALfind_all"><span class="keyword">val</span> find_all</span> : <code class="type">('a -> bool) -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> 'a <a href="BatDynArray.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">find_all</code> is another name for <code class="code">filter</code>.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
</ul>
</div>

<pre><span id="VALfilteri"><span class="keyword">val</span> filteri</span> : <code class="type">(int -> 'a -> bool) -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> 'a <a href="BatDynArray.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>As <code class="code">filter</code> but with the index passed to the predicate.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
</ul>
</div>

<pre><span id="VALfilter_map"><span class="keyword">val</span> filter_map</span> : <code class="type">('a -> 'b option) -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> 'b <a href="BatDynArray.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">filter_map&nbsp;f&nbsp;e</code> returns an array consisting of all elements
    <code class="code">x</code> such that <code class="code">f&nbsp;y</code> returns <code class="code"><span class="constructor">Some</span>&nbsp;x</code> , where <code class="code">y</code> is an element
    of <code class="code">e</code>.</p>
</div>
</div>

<pre><span id="VALpartition"><span class="keyword">val</span> partition</span> : <code class="type">('a -> bool) -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> 'a <a href="BatDynArray.html#TYPEt">t</a> * 'a <a href="BatDynArray.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">partition&nbsp;p&nbsp;a</code> returns a pair of arrays <code class="code">(a1,&nbsp;a2)</code>, where
    <code class="code">a1</code> is the array of all the elements of <code class="code">a</code> that
    satisfy the predicate <code class="code">p</code>, and <code class="code">a2</code> is the array of all the
    elements of <code class="code">a</code> that do not satisfy <code class="code">p</code>.
    The order of the elements in the input array is preserved.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
</ul>
</div>

<pre><span id="VALfor_all"><span class="keyword">val</span> for_all</span> : <code class="type">('a -> bool) -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">for_all&nbsp;p&nbsp;[a0;&nbsp;a1;&nbsp;...;&nbsp;an]</code> checks if all elements of the
    array satisfy the predicate <code class="code">p</code>.  That is, it returns <code class="code">&nbsp;(p&nbsp;a0)<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">&amp;&amp;</span>&nbsp;(p&nbsp;a1)&nbsp;<span class="keywordsign">&amp;&amp;</span>&nbsp;...&nbsp;<span class="keywordsign">&amp;&amp;</span>&nbsp;(p&nbsp;an)</code>.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
</ul>
</div>

<pre><span id="VALexists"><span class="keyword">val</span> exists</span> : <code class="type">('a -> bool) -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">exists&nbsp;p&nbsp;[a0;&nbsp;a1;&nbsp;...;&nbsp;an]</code> checks if at least one element of
    the array satisfies the predicate <code class="code">p</code>.  That is, it returns <code class="code">(p<br>
&nbsp;&nbsp;&nbsp;&nbsp;a0)&nbsp;<span class="keywordsign">||</span>&nbsp;(p&nbsp;a1)&nbsp;<span class="keywordsign">||</span>&nbsp;...&nbsp;<span class="keywordsign">||</span>&nbsp;(p&nbsp;an)</code>.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
</ul>
</div>

<pre><span id="VALfind"><span class="keyword">val</span> find</span> : <code class="type">('a -> bool) -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> 'a</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">find&nbsp;p&nbsp;a</code> returns the first element of array <code class="code">a</code> that
    satisfies the predicate <code class="code">p</code>.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
<li><b>Raises</b> <code>Not_found</code> if there is no value that satisfies <code class="code">p</code> in
    the array <code class="code">a</code>.</li>
</ul>
</div>

<pre><span id="VALfindi"><span class="keyword">val</span> findi</span> : <code class="type">('a -> bool) -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> int</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">findi&nbsp;p&nbsp;a</code> returns the index of the first element of array <code class="code">a</code>
    that satisfies the predicate <code class="code">p</code>.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
<li><b>Raises</b> <code>Not_found</code> if there is no value that satisfies <code class="code">p</code> in the
    array <code class="code">a</code>.</li>
</ul>
</div>

<pre><span id="VALindex_of"><span class="keyword">val</span> index_of</span> : <code class="type">('a -> bool) -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> int</code></pre><div class="info ">
<div class="info-desc">
<p>Alias for <a href="BatDynArray.html#VALfindi"><code class="code"><span class="constructor">BatDynArray</span>.findi</code></a></p>
</div>
</div>

<pre><span id="VALmem"><span class="keyword">val</span> mem</span> : <code class="type">'a -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">mem&nbsp;m&nbsp;a</code> is true if and only if <code class="code">m</code> is equal to an element of <code class="code">a</code>.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
</ul>
</div>

<pre><span id="VALmemq"><span class="keyword">val</span> memq</span> : <code class="type">'a -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p>Same as <a href="BatDynArray.html#VALmem"><code class="code"><span class="constructor">BatDynArray</span>.mem</code></a> but uses physical equality instead of
    structural equality to compare array elements.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
</ul>
</div>

<pre><span id="VALrev"><span class="keyword">val</span> rev</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> 'a <a href="BatDynArray.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Array reversal.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
</ul>
</div>

<pre><span id="VALrev_in_place"><span class="keyword">val</span> rev_in_place</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p>In-place array reversal.  The given array is updated.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
</ul>
</div>

<pre><span id="VALmax"><span class="keyword">val</span> max</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> 'a</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">max&nbsp;a</code> returns the largest value in <code class="code">a</code> as judged by
    <code class="code"><span class="constructor">Pervasives</span>.compare</code></p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> on empty input.</li>
</ul>
</div>

<pre><span id="VALmin"><span class="keyword">val</span> min</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> 'a</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">min&nbsp;a</code> returns the smallest value in <code class="code">a</code> as judged by
    <code class="code"><span class="constructor">Pervasives</span>.compare</code></p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> on empty input.</li>
</ul>
</div>

<pre><span id="VALmin_max"><span class="keyword">val</span> min_max</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> 'a * 'a</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">min_max&nbsp;a</code> returns the (smallest, largest) pair of values from <code class="code">a</code>
    as judged by <code class="code"><span class="constructor">Pervasives</span>.compare</code></p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> on empty input.</li>
</ul>
</div>

<pre><span id="VALsum"><span class="keyword">val</span> sum</span> : <code class="type">int <a href="BatDynArray.html#TYPEt">t</a> -> int</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">sum&nbsp;l</code> returns the sum of the integers of <code class="code">l</code>.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
</ul>
</div>

<pre><span id="VALfsum"><span class="keyword">val</span> fsum</span> : <code class="type">float <a href="BatDynArray.html#TYPEt">t</a> -> float</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">fsum&nbsp;l</code> returns the sum of the floats of <code class="code">l</code>.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
</ul>
</div>

<pre><span id="VALkahan_sum"><span class="keyword">val</span> kahan_sum</span> : <code class="type">float <a href="BatDynArray.html#TYPEt">t</a> -> float</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">kahan_sum&nbsp;l</code> returns a numerically-accurate
    sum of the floats of <code class="code">l</code>.</p>

<p>You should consider using Kahan summation when you really care
    about very small differences in the result, while the result or
    one of the intermediate sums can be very large (which usually
    results in loss of precision of floating-point addition).</p>

<p>The worst-case rounding error is constant, instead of growing with
    (the square root of) the length of the input array as with <a href="BatDynArray.html#VALfsum"><code class="code"><span class="constructor">BatDynArray</span>.fsum</code></a>. On the other hand, processing each element requires four
    floating-point operations instead of one. See
    <a href=" https://en.wikipedia.org/wiki/Kahan_summation_algorithm ">
    the wikipedia article</a> on Kahan summation for more details.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
</ul>
</div>

<pre><span id="VALavg"><span class="keyword">val</span> avg</span> : <code class="type">int <a href="BatDynArray.html#TYPEt">t</a> -> float</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">avg&nbsp;l</code> returns the average of <code class="code">l</code></p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
</ul>
</div>

<pre><span id="VALfavg"><span class="keyword">val</span> favg</span> : <code class="type">float <a href="BatDynArray.html#TYPEt">t</a> -> float</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">favg&nbsp;l</code> returns the average of <code class="code">l</code></p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
</ul>
</div>
<h7 id="6_Operationsontwoarrays">Operations on two arrays</h7>
<pre><span id="VALiter2"><span class="keyword">val</span> iter2</span> : <code class="type">('a -> 'b -> unit) -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> 'b <a href="BatDynArray.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">iter2&nbsp;f&nbsp;[a0,&nbsp;a1,&nbsp;...,&nbsp;an]&nbsp;[b0,&nbsp;b1,&nbsp;...,&nbsp;bn]</code>
    performs calls <code class="code">f&nbsp;a0&nbsp;b0,&nbsp;f&nbsp;a1&nbsp;b1,&nbsp;...,&nbsp;f&nbsp;an&nbsp;bn</code> in that order.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> if the two arrays have different lengths.</li>
</ul>
</div>

<pre><span id="VALiter2i"><span class="keyword">val</span> iter2i</span> : <code class="type">(int -> 'a -> 'b -> unit) -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> 'b <a href="BatDynArray.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">iter2i&nbsp;f&nbsp;[a0,&nbsp;a1,&nbsp;...,&nbsp;an]&nbsp;[b0,&nbsp;b1,&nbsp;...,&nbsp;bn]</code>
    performs calls <code class="code">f&nbsp;0&nbsp;a0&nbsp;b0,&nbsp;f&nbsp;1&nbsp;a1&nbsp;b1,&nbsp;...,&nbsp;f&nbsp;n&nbsp;an&nbsp;bn</code> in that
    order.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> if the two arrays have different lengths.</li>
</ul>
</div>

<pre><span id="VALmap2"><span class="keyword">val</span> map2</span> : <code class="type">('a -> 'b -> 'c) -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> 'b <a href="BatDynArray.html#TYPEt">t</a> -> 'c <a href="BatDynArray.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>As <a href="BatDynArray.html#VALmap"><code class="code"><span class="constructor">BatDynArray</span>.map</code></a> but on two arrays.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> if the two arrays have different lengths.</li>
</ul>
</div>

<pre><span id="VALmap2i"><span class="keyword">val</span> map2i</span> : <code class="type">(int -> 'a -> 'b -> 'c) -><br>       'a <a href="BatDynArray.html#TYPEt">t</a> -> 'b <a href="BatDynArray.html#TYPEt">t</a> -> 'c <a href="BatDynArray.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>As <a href="BatDynArray.html#VALmapi"><code class="code"><span class="constructor">BatDynArray</span>.mapi</code></a> but on two arrays.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> if the two arrays have different lengths.</li>
</ul>
</div>

<pre><span id="VALfor_all2"><span class="keyword">val</span> for_all2</span> : <code class="type">('a -> 'b -> bool) -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> 'b <a href="BatDynArray.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p>As <a href="BatDynArray.html#VALfor_all"><code class="code"><span class="constructor">BatDynArray</span>.for_all</code></a> but on two arrays.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> if the two arrays have different lengths.</li>
</ul>
</div>

<pre><span id="VALexists2"><span class="keyword">val</span> exists2</span> : <code class="type">('a -> 'b -> bool) -> 'a <a href="BatDynArray.html#TYPEt">t</a> -> 'b <a href="BatDynArray.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p>As <a href="BatDynArray.html#VALexists"><code class="code"><span class="constructor">BatDynArray</span>.exists</code></a> but on two arrays.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
<li><b>Raises</b> <code>DynArray.Invalid_arg</code> if the two arrays have different lengths.</li>
</ul>
</div>

<pre><span id="VALcartesian_product"><span class="keyword">val</span> cartesian_product</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> 'b <a href="BatDynArray.html#TYPEt">t</a> -> ('a * 'b) <a href="BatDynArray.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Cartesian product of the two arrays.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
</ul>
</div>
<h7 id="6_Arrayresizers">Array resizers</h7>
<pre><span id="TYPEresizer_t"><span class="keyword">type</span> <code class="type"></code>resizer_t</span> = <code class="type">currslots:int -> oldlength:int -> newlength:int -> int</code> </pre>
<div class="info ">
<div class="info-desc">
<p>The type of a resizer function.</p>

<p>Resizer functions are called whenever elements are added to
    or removed from the dynamic array to determine what the current number of
    storage spaces in the array should be.  The three named arguments
    passed to a resizer are the current number of storage spaces in
    the array, the length of the array before the elements are
    added or removed, and the length the array will be after the
    elements are added or removed.  If elements are being added, newlength
    will be larger than oldlength, if elements are being removed,
    newlength will be smaller than oldlength. If the resizer function
    returns exactly oldlength, the size of the array is only changed when
    adding an element while there is not enough space for it.</p>

<p>By default, all dynamic arrays are created with the <code class="code">default_resizer</code>.
    When a dynamic array is created from another dynamic array (using <code class="code">copy</code>,
    <code class="code">map</code> , etc. ) the resizer of the copy will be the same as the original
    dynamic array resizer. To change the resizer, use the <code class="code">set_resizer</code>
    function.</p>
</div>
</div>


<pre><span id="VALset_resizer"><span class="keyword">val</span> set_resizer</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> <a href="BatDynArray.html#TYPEresizer_t">resizer_t</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p>Change the resizer for this array.</p>
</div>
</div>

<pre><span id="VALget_resizer"><span class="keyword">val</span> get_resizer</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> <a href="BatDynArray.html#TYPEresizer_t">resizer_t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Get the current resizer function for a given array</p>
</div>
</div>

<pre><span id="VALdefault_resizer"><span class="keyword">val</span> default_resizer</span> : <code class="type"><a href="BatDynArray.html#TYPEresizer_t">resizer_t</a></code></pre><div class="info ">
<div class="info-desc">
<p>The default resizer function the library is using - in this version
    of DynArray, this is the <code class="code">exponential_resizer</code> but should change in
    next versions.</p>
</div>
</div>

<pre><span id="VALexponential_resizer"><span class="keyword">val</span> exponential_resizer</span> : <code class="type"><a href="BatDynArray.html#TYPEresizer_t">resizer_t</a></code></pre><div class="info ">
<div class="info-desc">
<p>The exponential resizer- The default resizer except when the resizer
    is being copied from some other darray.</p>

<p><code class="code">exponential_resizer</code> works by doubling or halving the number of
    slots until they "fit".  If the number of slots is less than the
    new length, the number of slots is doubled until it is greater
    than the new length (or Sys.max_array_size is reached).</p>

<p>If the number of slots is more than four times the new length,
    the number of slots is halved until it is less than four times the
    new length.</p>

<p>Allowing darrays to fall below 25% utilization before shrinking them
    prevents "thrashing".  Consider the case where the caller is constantly
    adding a few elements, and then removing a few elements, causing
    the length to constantly cross above and below a power of two.
    Shrinking the array when it falls below 50% would causing the
    underlying array to be constantly allocated and deallocated.
    A few elements would be added, causing the array to be reallocated
    and have a usage of just above 50%.  Then a few elements would be
    remove, and the array would fall below 50% utilization and be
    reallocated yet again.  The bulk of the array, untouched, would be
    copied and copied again.  By setting the threshold at 25% instead,
    such "thrashing" only occurs with wild swings- adding and removing
    huge numbers of elements (more than half of the elements in the array).</p>

<p><code class="code">exponential_resizer</code> is a good performing resizer for most
    applications.  A list allocates 2 words for every element, while an
    array (with large numbers of elements) allocates only 1 word per
    element (ignoring unboxed floats).  On insert, <code class="code">exponential_resizer</code>
    keeps the amount of wasted "extra" array elements below 50%, meaning
    that less than 2 words per element are used.  Even on removals
    where the amount of wasted space is allowed to rise to 75%, that
    only means that darray is using 4 words per element.  This is
    generally not a significant overhead.</p>

<p>Furthermore, <code class="code">exponential_resizer</code> minimizes the number of copies
    needed- appending n elements into an empty darray with initial size
    0 requires between n and 2n elements of the array be copied- O(n)
    work, or O(1) work per element (on average).  A similar argument
    can be made that deletes from the end of the array are O(1) as
    well (obviously deletes from anywhere else are O(n) work- you
    have to move the n or so elements above the deleted element down).</p>
</div>
</div>

<pre><span id="VALstep_resizer"><span class="keyword">val</span> step_resizer</span> : <code class="type">int -> <a href="BatDynArray.html#TYPEresizer_t">resizer_t</a></code></pre><div class="info ">
<div class="info-desc">
<p>The stepwise resizer- another example of a resizer function, this
    time of a parameterized resizer.</p>

<p>The resizer returned by <code class="code">step_resizer&nbsp;step</code> returns the smallest
    multiple of <code class="code">step</code> larger than <code class="code">newlength</code> if <code class="code">currslots</code> is less
    then <code class="code">newlength</code>-<code class="code">step</code> or greater than <code class="code">newlength</code>.</p>

<p>For example, to make an darray with a step of 10, a length
    of len, and a null of null, you would do:
    <code class="code">make</code> ~resizer:(<code class="code">step_resizer</code> 10) len null</p>
</div>
</div>

<pre><span id="VALconservative_exponential_resizer"><span class="keyword">val</span> conservative_exponential_resizer</span> : <code class="type"><a href="BatDynArray.html#TYPEresizer_t">resizer_t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">conservative_exponential_resizer</code> is an example resizer function
    which uses the oldlength parameter.  It only shrinks the array
    on inserts- no deletes shrink the array, only inserts.  It does
    this by comparing the oldlength and newlength parameters.  Other
    than that, it acts like <code class="code">exponential_resizer</code>.</p>
</div>
</div>

<pre><span id="VALcreate_with"><span class="keyword">val</span> create_with</span> : <code class="type"><a href="BatDynArray.html#TYPEresizer_t">resizer_t</a> -> 'a <a href="BatDynArray.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>create a new dynamic array that uses the given resizer.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 2.3.0</li>
</ul>
</div>
<h7 id="6_Unsafeoperations">Unsafe operations</h7><p>*</p>

<pre><span id="VALunsafe_get"><span class="keyword">val</span> unsafe_get</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> int -> 'a</code></pre>
<pre><span id="VALunsafe_set"><span class="keyword">val</span> unsafe_set</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> int -> 'a -> unit</code></pre>
<pre><span id="VALunsafe_upd"><span class="keyword">val</span> unsafe_upd</span> : <code class="type">'a <a href="BatDynArray.html#TYPEt">t</a> -> int -> ('a -> 'a) -> unit</code></pre><div class="info ">
<ul class="info-attributes">
<li><b>Since</b> 3.3.0</li>
</ul>
</div>
<h7 id="6_Boilerplatecode">Boilerplate code</h7><div class="h8" id="7_Printing">Printing</div>
<pre><span id="VALprint"><span class="keyword">val</span> print</span> : <code class="type">?first:string -><br>       ?last:string -><br>       ?sep:string -><br>       ('a <a href="BatInnerIO.html#TYPEoutput">BatInnerIO.output</a> -> 'b -> unit) -><br>       'a <a href="BatInnerIO.html#TYPEoutput">BatInnerIO.output</a> -> 'b <a href="BatDynArray.html#TYPEt">t</a> -> unit</code></pre>
<pre><span id="MODULEExceptionless"><span class="keyword">module</span> <a href="BatDynArray.Exceptionless.html">Exceptionless</a></span>: <code class="code"><span class="keyword">sig</span></code> <a href="BatDynArray.Exceptionless.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info">
<p>Operations on <code class="code"><span class="constructor">DynArray</span></code> without exceptions.</p>

</div>
</body></html>
